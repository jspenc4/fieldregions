<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Population Potential Fields - Visualizing Global Demographic Gravity</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #fafafa;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 20px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            font-weight: 700;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.95;
            max-width: 800px;
            margin: 0 auto;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .hero {
            background: white;
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .hero h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .hero p {
            font-size: 1.1em;
            margin-bottom: 15px;
            color: #555;
        }

        .insight-box {
            background: #f8f9ff;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .insight-box h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .section {
            margin-bottom: 60px;
        }

        .section h2 {
            color: #333;
            font-size: 2em;
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .viz-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .viz-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .viz-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.15);
        }

        .viz-card img {
            width: 100%;
            height: auto;
            display: block;
        }

        .viz-card .content {
            padding: 25px;
        }

        .viz-card h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.4em;
        }

        .viz-card p {
            color: #666;
            margin-bottom: 15px;
        }

        .viz-card .btn {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 6px;
            transition: background 0.3s;
            margin-right: 10px;
        }

        .viz-card .btn:hover {
            background: #5568d3;
        }

        .viz-card .btn-secondary {
            background: #764ba2;
        }

        .viz-card .btn-secondary:hover {
            background: #653a8b;
        }

        .findings {
            background: white;
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .findings h3 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .findings ul {
            list-style: none;
            padding-left: 0;
        }

        .findings li {
            padding: 15px;
            margin-bottom: 10px;
            background: #f8f9ff;
            border-radius: 6px;
            border-left: 4px solid #667eea;
        }

        .findings strong {
            color: #764ba2;
        }

        footer {
            background: #333;
            color: white;
            text-align: center;
            padding: 30px 20px;
            margin-top: 60px;
        }

        footer a {
            color: #667eea;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .viz-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Population Potential Fields</h1>
        <p>Visualizing global demographic gravity - revealing how population distribution creates invisible landscapes of human interaction</p>
    </header>

    <div class="container">
        <div class="hero">
            <h2>What Happens When You Map Population as a Field?</h2>
            <p>
                At every location on Earth, calculate the sum of all populations divided by distance cubed.
                Despite this simple formula, the resulting "population potential" reveals geographic structures
                that traditional population maps don't show.
            </p>
            <p>
                Linear ridges along the Nile and Java. Cross-border megalopolises like San Diego/Tijuana appearing
                as unified peaks. Nigeria's three cultural regions emerging as distinct summits. The method consistently
                discovers real geographic features across wildly different datasets.
            </p>

            <div class="insight-box">
                <h3>Scale Invariance</h3>
                <p>
                    The 1/d³ potential comes from a 1/d⁴ force law chosen for a special property: scale invariance
                    under grid coarsening. Whether you use fine census data or coarse grid cells, you get the same
                    hierarchical structure. This isn't arbitrary—it's derived from the requirement that results
                    shouldn't depend on data resolution.
                </p>
            </div>
        </div>

        <div class="section">
            <h2>Global Population Potential (2020)</h2>

            <div class="viz-grid">
                <div class="viz-card">
                    <div class="content">
                        <h3>World - 30 Mile Hexagonal Grid</h3>
                        <p>
                            Reveals regional structure: Nigeria's three cultural peaks (Yoruba, Igbo, Hausa),
                            the Nile's continuous ridge, Java's east-west corridor, and Europe's interconnected megalopolis.
                            Hexagonal infill smooths coastlines and eliminates grid artifacts.
                        </p>
                        <a href="interactive/world_30mile.html" class="btn">Explore Interactive 3D</a>
                    </div>
                </div>
            </div>

            <div class="findings">
                <h3>Geographic Insights from Global Analysis</h3>
                <ul>
                    <li><strong>The Nile Wall:</strong> Population potential of 1,090-1,420 forms a continuous north-south ridge following the Nile Valley - one of Earth's most dramatic linear population structures</li>
                    <li><strong>Java's Ridge:</strong> 600 miles of continuous dense settlement (potential 920-1,505) across the island - among the most densely populated regions globally</li>
                    <li><strong>Nigeria's Three Peaks:</strong> Lagos (Yoruba, 683), Igbo heartland (Owerri/Aba, 590), and Kano (Hausa, 479) perfectly map Nigeria's three major cultural regions</li>
                    <li><strong>Cross-Border Megalopolises:</strong> San Diego/Tijuana merge into a single peak - the data sees functional urban regions, not political boundaries</li>
                    <li><strong>Europe's Structure:</strong> Istanbul (672) edges out London (643), but the London/Paris/Amsterdam cluster forms Western Europe's dominant ridge through mutual reinforcement</li>
                    <li><strong>Asian Dominance:</strong> Top 100 peaks heavily concentrated in South Asia (India/Bangladesh), East Asia (China/Japan), and Southeast Asia (Indonesia/Philippines) - reflecting the global population center</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>United States - Continental Scale</h2>

            <div class="viz-grid">
                <div class="viz-card">
                    <img src="images/usa_preview.png" alt="USA Population Potential" onerror="this.style.display='none'">
                    <div class="content">
                        <h3>CONUS Population Field</h3>
                        <p>
                            High-resolution block group data reveals the Northeast megalopolis,
                            the distinct peaks of major metros, and the dramatic population gradient
                            from coast to interior.
                        </p>
                        <a href="interactive/usa.html" class="btn">Explore Interactive 3D</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Regional Deep Dives</h2>

            <div class="viz-grid">
                <div class="viz-card">
                    <img src="images/ca_preview.png" alt="California" onerror="this.style.display='none'">
                    <div class="content">
                        <h3>California</h3>
                        <p>
                            Multi-scale analysis showing how the Bay Area and Greater LA appear
                            at different spatial scales, revealing polycentric vs monocentric structure.
                        </p>
                        <a href="interactive/california.html" class="btn">View Analysis</a>
                    </div>
                </div>

            </div>
        </div>

        <div class="section">
            <h2>Methodology & Theory</h2>

            <div class="findings">
                <h3>Population Potential Calculation</h3>
                <p style="margin-bottom: 20px;">
                    The population potential at any location is calculated as the sum of all populations
                    divided by their distance cubed:
                </p>
                <p style="font-family: 'Courier New', monospace; background: #f0f0f0; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                    Potential(P) = Σ (Population_i / distance_i³)
                </p>
                <ul>
                    <li><strong>1/d³ Exponent:</strong> Derived from a 1/d⁴ force law that has scale invariance under grid coarsening. Consider a grid with 1 person per cell: neighbors attract with (1×1)/1⁴ = 1. Coarsen to half resolution (4 people per cell, 2 units apart): (4×4)/2⁴ = 1. Same force, different resolution.</li>
                    <li><strong>Empirical Validation:</strong> US census data at 3× different resolutions produces <1% variation in peak potential values, confirming the theoretical prediction.</li>
                    <li><strong>Minimum Distance:</strong> Smooths census centroid noise (±0.5-1 mile error). Without this, self-contribution dominates.</li>
                    <li><strong>Hexagonal Infill:</strong> Fills oceans and sparse areas to eliminate coastline artifacts and create continuous surfaces.</li>
                </ul>
            </div>

            <div class="findings">
                <h3>Data Sources</h3>
                <ul>
                    <li><strong>World:</strong> GPW v4.11 (2020) - Gridded Population of the World at 15 arc-minute (0.25°) resolution</li>
                    <li><strong>United States:</strong> 2020 Census Block Groups - highest resolution publicly available population data</li>
                    <li><strong>Hex Grid Infill:</strong> Hexagonal grid fills ocean and sparse areas to smooth coastlines and create continuous surfaces</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>Source Code & Documentation</h2>

            <div class="viz-grid">
                <div class="viz-card">
                    <div class="content">
                        <h3>GitHub Repository</h3>
                        <p>
                            Full Python implementation with CLI tools for potential calculation,
                            visualization, and prominence analysis.
                        </p>
                        <a href="https://github.com/jspenc4/javaMap" class="btn">View on GitHub</a>
                    </div>
                </div>

                <div class="viz-card">
                    <div class="content">
                        <h3>Future Directions</h3>
                        <p>
                            Multi-scale animations, camera path flyovers, temporal analysis,
                            and other speculative ideas for extending this work.
                        </p>
                        <a href="speculative_ideas.html" class="btn">Explore Ideas</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>
            Population Potential Field Visualization Project<br>
            Built with Python, NumPy, Plotly, and computational geography<br>
            <a href="https://github.com/jspenc4/javaMap">View on GitHub</a>
        </p>
    </footer>
</body>
</html>
